var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,o,n,l,r){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},c="function"==typeof i[l]&&i[l],s=c.cache||{},u="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function f(e,o){if(!s[e]){if(!t[e]){var n="function"==typeof i[l]&&i[l];if(!o&&n)return n(e,!0);if(c)return c(e,!0);if(u&&"string"==typeof e)return u(e);var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}d.resolve=function(o){var n=t[e][1][o];return null!=n?n:o},d.cache={};var a=s[e]=new f.Module(e);t[e][0].call(a.exports,d,a,a.exports,this)}return s[e].exports;function d(e){var t=d.resolve(e);return!1===t?{}:f(t)}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=t,f.cache=s,f.parent=c,f.register=function(e,o){t[e]=[function(e,t){t.exports=o},{}]},Object.defineProperty(f,"root",{get:function(){return i[l]}}),i[l]=f;for(var a=0;a<o.length;a++)f(o[a]);if(n){var d=f(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=d:"function"==typeof e&&e.amd?e(function(){return d}):r&&(this[r]=d)}}({j8eMK:[function(e,t,o){let n;var l=e("@parcel/transformer-js/src/esmodule-helpers.js");l.defineInteropFlag(o),l.export(o,"config",()=>r);let r={matches:["http://*/*","https://*/*"],all_frames:!0},i=null,c=null,s="";function u(e,t){let o=document.elementFromPoint(e,t);return window.getComputedStyle(o).fontSize}async function f(e,t,o,l){let r=document.querySelectorAll("#copyEndingIcon");r&&r.forEach(e=>e.remove());let f=document.createElement("span");f.id="copyEndingIcon";let a=u(e,t);f.style.borderRadius="6px",f.textContent="]",f.style.position="absolute",f.style.zIndex="99999999999999",f.style.backgroundColor="yellow",f.style.color="brown",f.style.fontSize=a,f.style.transition="opacity 0.3s ease, transform 0.3s ease",f.style.cursor="pointer",f.style.left=`${o}px`,f.style.top=`${l}px`,document.body.appendChild(f),document.body.appendChild(n),i=null,c=null,chrome.storage.local.get(["recentlyCopiedItems"],async e=>{let t=e?.recentlyCopiedItems||"[]";if(t=Array.from(JSON.parse(t)),""!==s){let e,o;t.unshift(s),t=t.length>10?t.slice(0,10):t,await chrome.storage.local.set({recentlyCopiedItems:JSON.stringify(t)}),await navigator.clipboard.writeText(s),alert("Text successfully copied and stored!"),i=null,c=null,s="",e=document.querySelectorAll("#copyEndingIcon"),o=document.querySelectorAll("#copyStartingIcon"),e&&e.forEach(e=>e.remove()),o&&o.forEach(e=>e.remove())}})}function a(e,t){let o=document.elementsFromPoint(e,t);if(!o)return null;let n=document.createTreeWalker(o[0],NodeFilter.SHOW_TEXT,null),l=n.nextNode(),r=null,c=null;do{let o=document.createRange();o.selectNodeContents(l);let n=o.getClientRects();for(let i of(n.length>0&&(r||(r=l),c=l),n))if(e>=i?.left&&e<=i?.right&&t>=i?.top&&t<=i?.bottom){let n=function(e,t,o){let n=e.endOffset;for(let l=0;l<n;l++){e.setStart(e.startContainer,l),e.setEnd(e.startContainer,l+1);let n=e.getBoundingClientRect();if(t>=n?.left&&t<=n?.right&&o>=n?.top&&o<=n?.bottom)return l}return 0}(o,e,t);return{node:l,offset:n}}}while(l=n.nextNode())return i?{node:c,offset:c.length}:{node:r,offset:0}}document.addEventListener("click",function(e){chrome.storage.local.get("isOn",function(t){"true"==t.isOn&&"false"!=t.isOn&&e.altKey&&(i?i&&(console.log("end"),c=a(e.clientX,e.clientY),function(){let e=document.createRange(),t=window.getSelection();if(t.removeAllRanges(),i&&c&&i.node&&c.node){let o=i.node,n=c.node,l=o.compareDocumentPosition(n),r=l==Node.DOCUMENT_POSITION_FOLLOWING||0==l&&i.offset<c.offset||20==l&&i.offset<c.offset;r?(e.setStart(o,i.offset),e.setEnd(n,c.offset)):(e.setStart(n,c.offset),e.setEnd(o,i.offset)),console.log({range:e}),t.addRange(e),s=e.toString()}else console.log("Invalid start or end node for selection")}(),setTimeout(()=>{f(e.clientX,e.clientY,e.pageX,e.pageY)},100)):(console.log("start"),function(e,t,o,l){if(document.querySelector("#copyEndingIcon"))return;let r=document.querySelectorAll("#copyStartingIcon");r&&r.forEach(e=>e.remove());let c=document.createElement("span");c.id="copyStartingIcon";let s=u(e,t);c.textContent="[",c.style.position="absolute",c.style.zIndex="99999999999999",c.style.backgroundColor="yellow",c.style.color="brown",c.style.fontSize=s,c.style.transition="opacity 0.3s ease, transform 0.3s ease",c.style.cursor="pointer",c.style.left=`${o}px`,c.style.top=`${l}px`,n=c,i=a(e,t),c.onclick=async()=>{}}(e.clientX,e.clientY,e.pageX,e.pageY)))})})},{"@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],cHUbl:[function(e,t,o){o.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},o.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.exportAll=function(e,t){return Object.keys(e).forEach(function(o){"default"===o||"__esModule"===o||t.hasOwnProperty(o)||Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[o]}})}),t},o.export=function(e,t,o){Object.defineProperty(e,t,{enumerable:!0,get:o})}},{}]},["j8eMK"],"j8eMK","parcelRequirea69d"),globalThis.define=t;